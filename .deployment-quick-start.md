# ðŸš€ Deploy to Production - Quick Start

## TL;DR

1. **Frontend â†’ Vercel** (2 minutes)
2. **Backend â†’ Railway** (3 minutes)
3. **Database â†’ Vercel Postgres** (1 minute)
4. **AWS Cognito â†’ CDK** (5 minutes)

**Total time: ~15 minutes**

---

## Step 1: Deploy Frontend (Vercel)

```bash
# 1. Push to GitHub
git push origin main

# 2. Go to vercel.com/new
# 3. Import repository
# 4. Set root directory: app
# 5. Add environment variables (see .vercel-env-template.txt)
# 6. Deploy!
```

âœ… **Result**: `https://your-app.vercel.app`

---

## Step 2: Deploy Backend (Railway)

```bash
# 1. Install Railway
iwr https://railway.app/install.ps1 | iex

# 2. Login and deploy
railway login
cd api
railway init
railway up
```

âœ… **Result**: `https://your-api.up.railway.app`

---

## Step 3: Set Up Database

**In Vercel Dashboard:**
- Storage â†’ Create Database â†’ Postgres
- Copy connection string
- Add to Vercel env vars as `DATABASE_URL`

```bash
# Run migrations
cd app
yarn db:push
```

âœ… **Result**: Database connected and ready

---

## Step 4: Deploy AWS Cognito

```bash
# 1. Configure
# Edit packages/cognito/.env with production URLs

# 2. Deploy
yarn cognito:bootstrap  # first time only
yarn cognito:deploy

# 3. Save outputs and add to Vercel
```

âœ… **Result**: AWS Cognito configured

---

## Step 5: Update OAuth Callbacks

### Cognito
AWS Console â†’ Add callback: `https://your-app.vercel.app/api/auth/callback/cognito`

### GitHub
GitHub Settings â†’ Update callback: `https://your-app.vercel.app/api/auth/callback/github`

---

## Step 6: Test!

Visit `https://your-app.vercel.app` and try:
- âœ… Sign up
- âœ… Log in with Cognito
- âœ… Log in with GitHub

---

## ðŸ“‹ Detailed Guides

- **Complete Guide**: [DEPLOYMENT.md](./DEPLOYMENT.md)
- **Checklist**: [DEPLOYMENT_CHECKLIST.md](./DEPLOYMENT_CHECKLIST.md)
- **Environment Variables**: [.vercel-env-template.txt](./.vercel-env-template.txt)

---

## ðŸ’¡ Pro Tips

1. **Use Vercel Postgres** - Easiest database setup
2. **Get static ngrok domain** - For development
3. **Monitor logs** - Vercel Dashboard + Railway Dashboard
4. **Test in incognito** - Avoid cache issues

---

## ðŸ†˜ Common Issues

**"Invalid redirect_uri"**
â†’ Check OAuth callback URLs match exactly

**"Database connection failed"**
â†’ Verify DATABASE_URL in Vercel

**"CORS error"**
â†’ Set ALLOWED_ORIGINS in Railway to your Vercel URL

---

**You got this! ðŸŽ‰**

